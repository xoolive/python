{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "hconcat": [{"mark": {"type": "bar", "size": 10}, "encoding": {"color": {"type": "nominal", "field": "continent"}, "x": {"type": "quantitative", "axis": {"format": "~s"}, "field": "population"}, "y": {"type": "nominal", "field": "country", "sort": "-x", "title": "pays"}}, "height": 200, "transform": [{"aggregate": [{"op": "argmax", "field": "year", "as": "most_recent_year"}], "groupby": ["country", "continent"]}, {"calculate": "datum.most_recent_year.population", "as": "population"}, {"calculate": "datum.most_recent_year.GDP_per_capita", "as": "GDP_per_capita"}, {"window": [{"op": "rank", "field": "population", "as": "rank_pop"}], "sort": [{"field": "population", "order": "descending"}]}, {"window": [{"op": "rank", "field": "GDP_per_capita", "as": "rank_gdp"}], "sort": [{"field": "GDP_per_capita", "order": "descending"}]}, {"filter": "(datum.rank_pop <= 10)"}], "width": 300}, {"mark": {"type": "bar", "size": 10}, "encoding": {"color": {"type": "nominal", "field": "continent"}, "x": {"type": "quantitative", "axis": {"format": "$~s"}, "field": "GDP_per_capita", "title": "PIB par habitant"}, "y": {"type": "nominal", "field": "country", "sort": "-x", "title": "pays"}}, "height": 200, "transform": [{"aggregate": [{"op": "argmax", "field": "year", "as": "most_recent_year"}], "groupby": ["country", "continent"]}, {"calculate": "datum.most_recent_year.population", "as": "population"}, {"calculate": "datum.most_recent_year.GDP_per_capita", "as": "GDP_per_capita"}, {"window": [{"op": "rank", "field": "population", "as": "rank_pop"}], "sort": [{"field": "population", "order": "descending"}]}, {"window": [{"op": "rank", "field": "GDP_per_capita", "as": "rank_gdp"}], "sort": [{"field": "GDP_per_capita", "order": "descending"}]}, {"filter": "(datum.rank_gdp <= 10)"}], "width": 300}], "data": {"url": "https://www.xoolive.org/python/_static/life-expectancy-vs-gdp-per-capita.json"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json"}